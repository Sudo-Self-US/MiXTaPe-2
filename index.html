<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDM 49</title>
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icon-16x16.png">
    <link rel="icon" type="image/svg+xml" href="/icon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'edm-purple': '#8B5CF6',
                        'edm-pink': '#EC4899',
                        'edm-blue': '#3B82F6',
                        'dark-bg': '#0f0f0f',
                        'card-bg': '#1a1a1a',
                    }
                }
            }
        }
    </script>
    <style>
        .rainbow-text {
            background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .player-gradient {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d1b69 100%);
        }
        
        .light .player-gradient {
            background: linear-gradient(135deg, #f0f0f0 0%, #a78bfa 100%);
        }
        
        .playlist-item:hover {
            background-color: rgba(139, 92, 246, 0.08);
        }
        
        .light .playlist-item:hover {
            background-color: rgba(139, 92, 246, 0.15);
        }
        
        .active-track {
            background-color: rgba(139, 92, 246, 0.15);
            border-left: 4px solid #8B5CF6;
        }
        
        .light .active-track {
            background-color: rgba(139, 92, 246, 0.2);
        }
        
        /* Custom audio player styling */
        .custom-audio-player {
            width: 100%;
            height: 40px;
        }
        
        .custom-audio-player::-webkit-media-controls-panel {
            background-color: #1a1a1a;
        }
        
        .light .custom-audio-player::-webkit-media-controls-panel {
            background-color: #f0f0f0;
        }
        
        .custom-audio-player::-webkit-media-controls-play-button,
        .custom-audio-player::-webkit-media-controls-mute-button {
            background-color: #8B5CF6;
            border-radius: 50%;
        }
        
        .custom-audio-player::-webkit-media-controls-current-time-display,
        .custom-audio-player::-webkit-media-controls-time-remaining-display {
            color: white;
        }
        
        .light .custom-audio-player::-webkit-media-controls-current-time-display,
        .light .custom-audio-player::-webkit-media-controls-time-remaining-display {
            color: #333;
        }
        
        .custom-audio-player::-webkit-media-controls-timeline {
            background-color: #333;
            border-radius: 25px;
            margin-left: 10px;
            margin-right: 10px;
        }
        
        .light .custom-audio-player::-webkit-media-controls-timeline {
            background-color: #ddd;
        }
        
        .custom-audio-player::-webkit-media-controls-volume-slider {
            background-color: #8B5CF6;
            border-radius: 25px;
        }
        
        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1a1a1a;
            border-radius: 10px;
        }
        
        .light .custom-scrollbar::-webkit-scrollbar-track {
            background: #f0f0f0;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #8B5CF6;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #7c3aed;
        }
        
        /* Glow effects */
        .glow {
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.3);
        }
        
        .light .glow {
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.2);
        }
        
        .glow-on-hover:hover {
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
        }
        
        /* Smooth animations */
        .smooth-transition {
            transition: all 0.3s ease;
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            .mobile-stack {
                flex-direction: column;
            }
            
            .mobile-full {
                width: 100%;
            }
            
            .mobile-padding {
                padding: 1rem;
            }
            
            .mobile-text-center {
                text-align: center;
            }
        }
        
        /* Album art animations */
        .album-art {
            transition: transform 0.5s ease;
        }
        
        .album-art:hover {
            transform: scale(1.03);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(139, 92, 246, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(139, 92, 246, 0);
            }
        }
        
        /* Light theme styles */
        .light body {
            background-color: #f5f5f5;
            color: #333;
        }
        
        .light .bg-card-bg {
            background-color: #ffffff;
        }
        
        .light .text-gray-200 {
            color: #333;
        }
        
        .light .text-gray-300 {
            color: #555;
        }
        
        .light .text-gray-400 {
            color: #777;
        }
        
        .light .text-gray-500 {
            color: #999;
        }
        
        .light .border-gray-700 {
            border-color: #ddd;
        }
        
        .light .border-gray-800 {
            border-color: #eee;
        }
        
        .light .divide-gray-800 {
            border-color: #eee;
        }
        
        .light .bg-gray-700 {
            background-color: #e5e5e5;
        }
        
        /* Scrollable playlist container - FIXED HEIGHT */
        .playlist-container {
            height: 500px;
            overflow-y: auto;
        }
        
        @media (max-height: 900px) {
            .playlist-container {
                height: 450px;
            }
        }
        
        @media (max-height: 800px) {
            .playlist-container {
                height: 400px;
            }
        }
        
        @media (max-height: 700px) {
            .playlist-container {
                height: 350px;
            }
        }
        
        @media (max-height: 600px) {
            .playlist-container {
                height: 300px;
            }
        }
        
        @media (max-width: 768px) {
            .playlist-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="bg-dark-bg text-gray-200 transition-colors duration-300">
    <!-- Theme Toggle -->
    <div class="fixed top-4 right-4 z-20">
        <button id="themeToggle" class="bg-card-bg p-3 rounded-full shadow-lg glow smooth-transition">
            <svg id="sunIcon" class="w-5 h-5 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>
            <svg id="moonIcon" class="w-5 h-5 text-purple-500 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
            </svg>
        </button>
    </div>

    <div class="min-h-screen flex flex-col items-center py-4 md:py-8 px-4">
        <!-- Header -->
        <div class="w-full max-w-6xl mb-6 md:mb-8 text-center">
            <div class="mb-4 md:mb-6">
                <img src="https://pub-c1de1cb456e74d6bbbee111ba9e6c757.r2.dev/icon-original.png" alt="EDM.local" class="mx-auto rounded-xl shadow-lg max-w-full h-auto max-h-32 md:max-h-48 glow">
            </div>
            
            <h1 class="text-2xl md:text-4xl font-bold rainbow-text mb-2 tracking-wider">
                 EDM 49
            </h1>
            
            <h2 class="text-lg md:text-2xl font-semibold rainbow-text mb-4 md:mb-6 tracking-wider">
               ılılıll|̲̅̅●̲̅̅|̲̅̅=̲̅̅|̲̅̅●̲̅̅|llılılı
            </h2>
        </div>

        <!-- Main Content -->
        <div class="w-full max-w-6xl flex flex-col lg:flex-row gap-6 md:gap-8">
            <!-- Player Container -->
            <div class="w-full lg:w-2/3 bg-card-bg rounded-2xl shadow-2xl overflow-hidden glow">
                <!-- Now Playing with Album Art -->
                <div class="player-gradient p-4 md:p-6 text-white">
                    <div class="flex flex-col md:flex-row items-center gap-4 md:gap-6">
                        <div class="relative">
                            <img id="albumArt" src="https://pub-c1de1cb456e74d6bbbee111ba9e6c757.r2.dev/icon-original.png" alt="Album Art" class="w-32 h-32 md:w-40 md:h-40 rounded-xl shadow-lg album-art pulse">
                            <div class="absolute inset-0 rounded-xl border-2 border-white opacity-20"></div>
                        </div>
                        <div class="flex-1 text-center md:text-left">
                            <h3 class="text-sm font-semibold text-gray-300 mb-1">NOW PLAYING</h3>
                            <div id="nowPlaying" class="text-xl md:text-2xl font-bold mb-2"><a href="https://github.com/Sudo-Self-US/edm-49" class="hover:text-edm-purple transition-colors">edm 49</a></div>
                            <div id="trackInfo" class="text-gray-300">Select a track to begin</div>
                        </div>
                    </div>
                </div>
                
                <!-- Audio Player -->
                <div class="p-4 md:p-6">
                    <div class="mb-4">
                        <audio id="player" preload="auto" controls class="custom-audio-player">
                            <source src="" type="audio/mpeg" id="audioSource">
                            Your browser does not support the audio element.
                        </audio>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="mb-6">
                        <div class="flex justify-between text-xs text-gray-400 mb-1">
                            <span id="currentTime">0:00</span>
                            <span id="totalTime">0:00</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-2">
                            <div id="progressBar" class="bg-edm-purple h-2 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <!-- Controls -->
                    <div class="flex justify-between mt-4 mobile-stack gap-4">
                        <button id="prev" class="bg-card-bg border border-gray-700 hover:border-edm-purple text-white px-4 py-3 rounded-xl flex items-center justify-center smooth-transition glow-on-hover mobile-full">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0019 16V8a1 1 0 00-1.6-.8l-5.333 4zM4.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0011 16V8a1 1 0 00-1.6-.8l-5.334 4z" />
                            </svg>
                            Previous
                        </button>
                        <button id="playPause" class="bg-edm-purple hover:bg-purple-700 text-white px-6 py-3 rounded-xl flex items-center justify-center smooth-transition glow mobile-full">
                            <svg id="playIcon" class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                            </svg>
                            <svg id="pauseIcon" class="w-6 h-6 mr-2 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Play
                        </button>
                        <button id="next" class="bg-card-bg border border-gray-700 hover:border-edm-purple text-white px-4 py-3 rounded-xl flex items-center justify-center smooth-transition glow-on-hover mobile-full">
                            Next
                            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.933 12.8a1 1 0 000-1.6L6.6 7.2A1 1 0 005 8v8a1 1 0 001.6.8l5.333-4zM19.933 12.8a1 1 0 000-1.6l-5.333-4A1 1 0 0013 8v8a1 1 0 001.6.8l5.333-4z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Playlist -->
            <div class="w-full lg:w-1/3 bg-card-bg rounded-2xl shadow-2xl overflow-hidden glow">
                <div class="p-4 border-b border-gray-800">
                    <h3 class="text-lg md:text-xl font-bold text-center text-gray-300">EDM 49</h3>
                    <p class="text-center text-sm text-gray-500 mt-1">49 tracks • 3h 42m</p>
                </div>
                
                <!-- Scrollable Playlist Container - FIXED HEIGHT -->
                <div class="playlist-container custom-scrollbar">
                    <ol id="playlist" class="divide-y divide-gray-800">
                        <!-- Playlist items will be populated by JavaScript -->
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Theme toggle functionality
            const themeToggle = document.getElementById('themeToggle');
            const sunIcon = document.getElementById('sunIcon');
            const moonIcon = document.getElementById('moonIcon');
            
            // Set initial state correctly
            if (document.documentElement.classList.contains('dark')) {
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
            } else {
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
            }
            
            themeToggle.addEventListener('click', () => {
                // Toggle the 'dark' class on the html element
                document.documentElement.classList.toggle('dark');
                document.documentElement.classList.toggle('light');
                
                // Toggle icon visibility
                sunIcon.classList.toggle('hidden');
                moonIcon.classList.toggle('hidden');
                
                // Save preference to localStorage
                const isDarkMode = document.documentElement.classList.contains('dark');
                localStorage.setItem('darkMode', isDarkMode);
            });
            
            // Check for saved theme preference
            const savedDarkMode = localStorage.getItem('darkMode');
            if (savedDarkMode !== null) {
                if (savedDarkMode === 'true') {
                    document.documentElement.classList.add('dark');
                    document.documentElement.classList.remove('light');
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');
                } else {
                    document.documentElement.classList.remove('dark');
                    document.documentElement.classList.add('light');
                    sunIcon.classList.remove('hidden');
                    moonIcon.classList.add('hidden');
                }
            }
            
            // Playlist data with album art - ALL 49 TRACKS INCLUDED
            const tracks = [
                { href: "01-Daft_Punk-Digital_Love.mp3", artist: "Daft Punk", title: "Digital Love", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "02-Deadmau5_&_Kaskade-I_Remember_Radio_Edit.mp3", artist: "Deadmau5 & Kaskade", title: "I Remember (Radio Edit)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "03-Steve_Angello_Laidback_Luke_Robin_S-Show_Me_Love_Radio_Edit_feat_Robin_S.mp3", artist: "Steve Angello, Laidback Luke, Robin S.", title: "Show Me Love (Radio Edit) (feat. Robin S.)", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "04-ZEDD_Foxes-Clarity_feat_Foxes.mp3", artist: "ZEDD, Foxes", title: "Clarity (feat. Foxes)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "05-Disclosure_Sam_Smith-Latch_feat_Sam_Smith.mp3", artist: "Disclosure, Sam Smith", title: "Latch (feat. Sam Smith)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "06-OneRepublic_Alesso-If_I_Lose_Myself_Alesso_vs_OneRepublic.mp3", artist: "OneRepublic, Alesso", title: "If I Lose Myself (Alesso vs OneRepublic)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "07-Rihanna_Calvin_Harris-We_Found_Love_feat_Calvin_Harris.mp3", artist: "Rihanna, Calvin Harris", title: "We Found Love (feat. Calvin Harris)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "08-Krewella-Alive.mp3", artist: "Krewella", title: "Alive", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "09-Kaskade_Mindy_Gledhill-Eyes_feat_Mindy_Gledhill.mp3", artist: "Kaskade, Mindy Gledhill", title: "Eyes (feat. Mindy Gledhill)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "10-Skrillex-With_You_Friends_Long_Drive.mp3", artist: "Skrillex", title: "With You, Friends (Long Drive)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "11-David_Guetta-When_Love_Takes_Over_feat_Kelly_Rowland.mp3", artist: "David Guetta", title: "When Love Takes Over (feat. Kelly Rowland)", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "12-Kolsch_Troels_Abrahamsen-All_that_matters_feat_Troels_Abrahamsen.mp3", artist: "Kölsch, Troels Abrahamsen", title: "All that matters (feat. Troels Abrahamsen)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "13-Daft_Punk-Something_About_Us.mp3", artist: "Daft Punk", title: "Something About Us", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "14-Stardust-Music_Sounds_Better_With_You_Radio_Edit.mp3", artist: "Stardust", title: "Music Sounds Better With You (Radio Edit)", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "15-Sebastian_Ingrosso_Alesso_Ryan_Tedder-Calling_Lose_My_Mind_Radio_Edit_feat_Ryan_Tedder.mp3", artist: "Sebastian Ingrosso, Alesso, Ryan Tedder", title: "Calling (Lose My Mind) (Radio Edit) (feat. Ryan Tedder)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "16-Avicii-Fade_Into_Darkness_Vocal_Radio_Mix.mp3", artist: "Avicii", title: "Fade Into Darkness (Vocal Radio Mix)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "17-Galantis-Runaway_U_&_I.mp3", artist: "Galantis", title: "Runaway (U & I)", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "18-ZEDD_Matthew_Koma-Spectrum_feat_Matthew_Koma.mp3", artist: "ZEDD, Matthew Koma", title: "Spectrum (feat. Matthew Koma)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "19-Nadia_Ali_Starkillers_Alex_Kenji-Pressure_feat_Starkillers_&_Alex_Kenji_Alesso_UK_Radio_Edit.mp3", artist: "Nadia Ali, Starkillers, Alex Kenji", title: "Pressure (feat. Starkillers & Alex Kenji) (Alesso UK Radio Edit)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "20-Alex_Gaudino-Im_In_Love_I_Wanna_Do_It_Vocal_Edit.mp3", artist: "Alex Gaudino", title: "I'm In Love (I Wanna Do It) (Vocal Edit)", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "21-Calvin_Harris-Feel_So_Close_Radio_Edit.mp3", artist: "Calvin Harris", title: "Feel So Close (Radio Edit)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "22-Fatboy_Slim-Praise_You_Radio_Edit.mp3", artist: "Fatboy Slim", title: "Praise You (Radio Edit)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "23-The_Chemical_Brothers-Snow.mp3", artist: "The Chemical Brothers", title: "Snow", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "24-Armin_van_Buuren_Laura_V-Drowning_Avici_Radio_Edit_feat_Laura_V.mp3", artist: "Armin van Buuren, Laura V", title: "Drowning (Avici Radio Edit) (feat. Laura V)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "25-Calvin_Harris_Ellie_Goulding-I_Need_Your_Love_feat_Ellie_Goulding.mp3", artist: "Calvin Harris, Ellie Goulding", title: "I Need Your Love (feat. Ellie Goulding)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "26-Ry_Frank_Wiedemann_?me-Howling_?me_Remix_feat_?me.mp3", artist: "Ry, Frank Wiedemann, ?me", title: "Howling (?me Remix) (feat. ?me)", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "27-Benny_Benassi_Gary_Go-Cinema_Skrillex_Remix_feat_Gary_Go.mp3", artist: "Benny Benassi, Gary Go", title: "Cinema (Skrillex Remix) (feat. Gary Go)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "28-Galantis-Gold_Dust.mp3", artist: "Galantis", title: "Gold Dust", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "29-Seven_Lions_Fiora-Days_to_Come_feat_Fiora.mp3", artist: "Seven Lions, Fiora", title: "Days to Come (feat. Fiora)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "30-Porter_Robinson-Language_UK_Edit.mp3", artist: "Porter Robinson", title: "Language (UK Edit)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "31-Marvin_Gaye_Kygo-Sexual_Healing_Kygo_Remix.mp3", artist: "Marvin Gaye, Kygo", title: "Sexual Healing (Kygo Remix)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "32-Duke_Dumont_Jax_Jones-I_Got_U_feat_Jax_Jones.mp3", artist: "Duke Dumont, Jax Jones", title: "I Got U (feat. Jax Jones)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "33-Gorgon_City_MNEK-Ready_For_Your_Love_feat_MNEK.mp3", artist: "Gorgon City, MNEK", title: "Ready For Your Love (feat. MNEK)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "34-HOT_NATURED-Benediction.mp3", artist: "HOT NATURED", title: "Benediction", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "35-Oliver_Heldens_Becky_Hill-Gecko_Overdrive_Radio_Edit.mp3", artist: "Oliver Heldens, Becky Hill", title: "Gecko (Overdrive) (Radio Edit)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "36-Tim_Berg-Seek_Bromance.mp3", artist: "Tim Berg", title: "Seek Bromance", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "37-Ti?sto_Sneaky_Sound_System-I_Will_Be_Here_Wolfgang_Gartner_Remix.mp3", artist: "Ti?sto, Sneaky Sound System", title: "I Will Be Here (Wolfgang Gartner Remix)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "38-Above_&_Beyond_feat_Richard_Bedford-Thing_Called_Love_Above_&_Beyond_2011_Club_Mix.mp3", artist: "Above & Beyond feat. Richard Bedford", title: "Thing Called Love (Above & Beyond 2011 Club Mix)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "39-Late_Night_Alumni-Empty_Streets.mp3", artist: "Late Night Alumni", title: "Empty Streets", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "40-Magnetic_Man_Angela_Hunte-I_Need_Air_feat_Angela_Hunte.mp3", artist: "Magnetic Man, Angela Hunte", title: "I Need Air (feat. Angela Hunte)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "41-Gareth_Emery_featuring_Lucy_Saunders-Sanctuary_Club_Mix.mp3", artist: "Gareth Emery featuring Lucy Saunders", title: "Sanctuary (Club Mix)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "42-Nadia_Ali-Rapture_Avicii_New_Generation_Radio_Edit.mp3", artist: "Nadia Ali", title: "Rapture (Avicii New Generation Radio Edit)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "43-Alison_Wonderland-I_Want_U.mp3", artist: "Alison Wonderland", title: "I Want U", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "44-Duke_Dumont-The_Giver_Reprise.mp3", artist: "Duke Dumont", title: "The Giver (Reprise)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "45-Major_Lazer_Wild_Belle-Be_Together_feat_Wild_Belle.mp3", artist: "Major Lazer, Wild Belle", title: "Be Together (feat. Wild Belle)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "46-Fedde_Le_Grand-So_Much_Love_Radio_Edit.mp3", artist: "Fedde Le Grand", title: "So Much Love (Radio Edit)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "47-Third_Party_vs_Cicada-Feel.mp3", artist: "Third Party vs. Cicada", title: "Feel", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "48-Kaskade_Ti?sto_Haley-Only_You_feat_Ti?sto_&_Haley.mp3", artist: "Kaskade, Ti?sto, Haley", title: "Only You (feat. Ti?sto & Haley)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "49-Filo_&_Peri_feat_Audrey_Gallagher-This_Night.mp3", artist: "Filo & Peri feat. Audrey Gallagher", title: "This Night", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" }
            ];

            // Populate playlist
            const playlist = $('#playlist');
            tracks.forEach((track, index) => {
                const trackNumber = (index + 1).toString().padStart(2, '0');
                const listItem = $(`
                    <li class="playlist-item ${index === 0 ? 'active-track' : ''}">
                        <a href="#" class="track block p-3 hover:no-underline smooth-transition" data-href="${track.href}" data-artist="${track.artist}" data-title="${track.title}" data-art="${track.art}">
                            <div class="flex items-center">
                                <div class="relative w-10 h-10 flex-shrink-0 mr-3">
                                    <img src="${track.art}" alt="${track.title}" class="w-10 h-10 rounded-md object-cover">
                                    <div class="absolute inset-0 bg-black bg-opacity-40 rounded-md flex items-center justify-center">
                                        <span class="text-xs font-bold text-white">${trackNumber}</span>
                                    </div>
                                </div>
                                <div class="flex-1 min-w-0">
                                    <div class="font-medium truncate">${track.title}</div>
                                    <div class="text-sm text-gray-400 truncate">${track.artist}</div>
                                </div>
                                <div class="ml-2 text-xs text-gray-500">
                                    3:45
                                </div>
                            </div>
                        </a>
                    </li>
                `);
                playlist.append(listItem);
            });

            // Player functionality
            let current = 0;
            const $audio = $('#player');
            const $audioSource = $('#audioSource');
            const $tracks = $('.track');
            const len = $tracks.length;
            const $nowPlaying = $('#nowPlaying');
            const $trackInfo = $('#trackInfo');
            const $albumArt = $('#albumArt');
            const $playPause = $('#playPause');
            const $playIcon = $('#playIcon');
            const $pauseIcon = $('#pauseIcon');
            const $progressBar = $('#progressBar');
            const $currentTime = $('#currentTime');
            const $totalTime = $('#totalTime');

            // Format time from seconds to MM:SS
            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            }

            // Update progress bar and time displays
            function updateProgress() {
                if ($audio[0].duration) {
                    const percent = ($audio[0].currentTime / $audio[0].duration) * 100;
                    $progressBar.css('width', percent + '%');
                    $currentTime.text(formatTime($audio[0].currentTime));
                }
            }

            // Set total time when metadata is loaded
            $audio[0].addEventListener('loadedmetadata', function() {
                $totalTime.text(formatTime($audio[0].duration));
            });

            // Update progress regularly
            $audio[0].addEventListener('timeupdate', updateProgress);

            // Play/Pause functionality
            $playPause.on('click', function() {
                if ($audio[0].paused) {
                    $audio[0].play();
                    $playIcon.addClass('hidden');
                    $pauseIcon.removeClass('hidden');
                    $playPause.text('Pause');
                } else {
                    $audio[0].pause();
                    $playIcon.removeClass('hidden');
                    $pauseIcon.addClass('hidden');
                    $playPause.text('Play');
                }
            });

            $('.track').on('click', function (e) {
                e.preventDefault();
                const link = $(this);
                current = link.parent().index();
                play(link, $audio[0]);
            });

            $audio[0].addEventListener('play', function (e) {
                $playIcon.addClass('hidden');
                $pauseIcon.removeClass('hidden');
                $playPause.text('Pause');
                const $link = $('li.active-track > a');
                setTrackMetadata($link);
            });

            $audio[0].addEventListener('pause', function (e) {
                $playIcon.removeClass('hidden');
                $pauseIcon.addClass('hidden');
                $playPause.text('Play');
            });

            $audio[0].addEventListener('ended', function (e) {
                playNext();
            });

            $('#next').on('click', function (e) {
                e.preventDefault();
                playNext();
            });

            $('#prev').on('click', function (e) {
                e.preventDefault();
                playPrev();
            });

            function playPrev() {
                current--;
                if (current < 0) {
                    current = len - 1;
                }
                const link = $tracks.eq(current);
                play(link, $audio[0]);
            }

            function playNext() {
                current++;
                if (current === len) {
                    current = 0;
                }
                const link = $tracks.eq(current);
                play(link, $audio[0]);
            }

            function setTrackMetadata($link) {
                $nowPlaying.text($link.data('title'));
                $trackInfo.text($link.data('artist'));
                $albumArt.attr('src', $link.data('art'));
                
                if ('mediaSession' in navigator) {
                    navigator.mediaSession.metadata = new MediaMetadata({
                        title: $link.data('title'),
                        artist: $link.data('artist'),
                        artwork: [
                            { src: $link.data('art'), sizes: '96x96', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '128x128', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '192x192', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '256x256', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '384x384', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '512x512', type: 'image/jpeg' },
                        ]
                    });
                }
            }

            function play($link, $player) {
                $audioSource.attr('src', $link.data('href'));
                const par = $link.parent();
                par.addClass('active-track').siblings().removeClass('active-track');
                $player.load();
                $player.play().catch(function(error) {
                    console.log("Play failed:", error);
                    // Fallback: try to play after user interaction
                    $playPause.one('click', function() {
                        $player.play();
                    });
                });
                setTrackMetadata($link);
            }

            if ('mediaSession' in navigator) {
                navigator.mediaSession.setActionHandler('nexttrack', playNext);
                navigator.mediaSession.setActionHandler('previoustrack', playPrev);
            }
            
            // Initialize with first track
            if (tracks.length > 0) {
                const firstTrack = $tracks.eq(0);
                setTrackMetadata(firstTrack);
            }
        });
    </script>
</body>
</html>
