<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDM Online</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'edm-purple': '#8B5CF6',
                        'edm-pink': '#EC4899',
                        'edm-blue': '#3B82F6',
                        'dark-bg': '#0f0f0f',
                        'card-bg': '#1a1a1a',
                    }
                }
            }
        }
    </script>
    <style>
        .rainbow-text {
            background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .player-gradient {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d1b69 100%);
        }
        
        .playlist-item:hover {
            background-color: rgba(139, 92, 246, 0.08);
        }
        
        .active-track {
            background-color: rgba(139, 92, 246, 0.15);
            border-left: 4px solid #8B5CF6;
        }
        
        /* Custom audio player styling */
        .custom-audio-player {
            width: 100%;
            height: 40px;
        }
        
        .custom-audio-player::-webkit-media-controls-panel {
            background-color: #1a1a1a;
        }
        
        .custom-audio-player::-webkit-media-controls-play-button,
        .custom-audio-player::-webkit-media-controls-mute-button {
            background-color: #8B5CF6;
            border-radius: 50%;
        }
        
        .custom-audio-player::-webkit-media-controls-current-time-display,
        .custom-audio-player::-webkit-media-controls-time-remaining-display {
            color: white;
        }
        
        .custom-audio-player::-webkit-media-controls-timeline {
            background-color: #333;
            border-radius: 25px;
            margin-left: 10px;
            margin-right: 10px;
        }
        
        .custom-audio-player::-webkit-media-controls-volume-slider {
            background-color: #8B5CF6;
            border-radius: 25px;
        }
        
        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1a1a1a;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #8B5CF6;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #7c3aed;
        }
        
        /* Glow effects */
        .glow {
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.3);
        }
        
        .glow-on-hover:hover {
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
        }
        
        /* Smooth animations */
        .smooth-transition {
            transition: all 0.3s ease;
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            .mobile-stack {
                flex-direction: column;
            }
            
            .mobile-full {
                width: 100%;
            }
            
            .mobile-padding {
                padding: 1rem;
            }
            
            .mobile-text-center {
                text-align: center;
            }
        }
        
        /* Album art animations */
        .album-art {
            transition: transform 0.5s ease;
        }
        
        .album-art:hover {
            transform: scale(1.03);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(139, 92, 246, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(139, 92, 246, 0);
            }
        }
    </style>
</head>
<body class="bg-dark-bg text-gray-200 transition-colors duration-300">
    <!-- Theme Toggle -->
    <div class="fixed top-4 right-4 z-20">
        <button id="themeToggle" class="bg-card-bg p-3 rounded-full shadow-lg glow smooth-transition">
            <svg id="sunIcon" class="w-5 h-5 text-yellow-500 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>
            <svg id="moonIcon" class="w-5 h-5 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
            </svg>
        </button>
    </div>

    <div class="min-h-screen flex flex-col items-center py-4 md:py-8 px-4">
        <!-- Header -->
        <div class="w-full max-w-6xl mb-6 md:mb-8 text-center">
            <div class="mb-4 md:mb-6">
                <img src="https://pub-c1de1cb456e74d6bbbee111ba9e6c757.r2.dev/icon-original.png" alt="EDM.local" class="mx-auto rounded-xl shadow-lg max-w-full h-auto max-h-32 md:max-h-48 glow">
            </div>
            
            <h1 class="text-2xl md:text-4xl font-bold rainbow-text mb-2 tracking-wider">
                ♪·¯·♫ EDM ONLINE ♬·¯·♩
            </h1>
            
            <h2 class="text-lg md:text-2xl font-semibold rainbow-text mb-4 md:mb-6 tracking-wider">
                JesseJesse.com
            </h2>
        </div>

        <!-- Main Content -->
        <div class="w-full max-w-6xl flex flex-col lg:flex-row gap-6 md:gap-8">
            <!-- Player Container -->
            <div class="w-full lg:w-2/3 bg-card-bg rounded-2xl shadow-2xl overflow-hidden glow">
                <!-- Now Playing with Album Art -->
                <div class="player-gradient p-4 md:p-6 text-white">
                    <div class="flex flex-col md:flex-row items-center gap-4 md:gap-6">
                        <div class="relative">
                            <img id="albumArt" src="https://pub-c1de1cb456e74d6bbbee111ba9e6c757.r2.dev/icon-original.png" alt="Album Art" class="w-32 h-32 md:w-40 md:h-40 rounded-xl shadow-lg album-art pulse">
                            <div class="absolute inset-0 rounded-xl border-2 border-white opacity-20"></div>
                        </div>
                        <div class="flex-1 text-center md:text-left">
                            <h3 class="text-sm font-semibold text-gray-300 mb-1">NOW PLAYING</h3>
                            <div id="nowPlaying" class="text-xl md:text-2xl font-bold mb-2">edm.JesseJesse.com</div>
                            <div id="trackInfo" class="text-gray-300">Select a track to begin</div>
                        </div>
                    </div>
                </div>
                
                <!-- Audio Player -->
                <div class="p-4 md:p-6">
                    <div class="mb-4">
                        <audio id="player" preload="auto" controls class="custom-audio-player">
                            <source src="01-Daft_Punk-Digital_Love.mp3" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="mb-6">
                        <div class="flex justify-between text-xs text-gray-400 mb-1">
                            <span id="currentTime">0:00</span>
                            <span id="totalTime">0:00</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-2">
                            <div id="progressBar" class="bg-edm-purple h-2 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <!-- Controls -->
                    <div class="flex justify-between mt-4 mobile-stack gap-4">
                        <button id="prev" class="bg-card-bg border border-gray-700 hover:border-edm-purple text-white px-4 py-3 rounded-xl flex items-center justify-center smooth-transition glow-on-hover mobile-full">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0019 16V8a1 1 0 00-1.6-.8l-5.333 4zM4.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0011 16V8a1 1 0 00-1.6-.8l-5.334 4z" />
                            </svg>
                            Previous
                        </button>
                        <button id="playPause" class="bg-edm-purple hover:bg-purple-700 text-white px-6 py-3 rounded-xl flex items-center justify-center smooth-transition glow mobile-full">
                            <svg id="playIcon" class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                            </svg>
                            <svg id="pauseIcon" class="w-6 h-6 mr-2 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Play
                        </button>
                        <button id="next" class="bg-card-bg border border-gray-700 hover:border-edm-purple text-white px-4 py-3 rounded-xl flex items-center justify-center smooth-transition glow-on-hover mobile-full">
                            Next
                            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.933 12.8a1 1 0 000-1.6L6.6 7.2A1 1 0 005 8v8a1 1 0 001.6.8l5.333-4zM19.933 12.8a1 1 0 000-1.6l-5.333-4A1 1 0 0013 8v8a1 1 0 001.6.8l5.333-4z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Playlist -->
            <div class="w-full lg:w-1/3 bg-card-bg rounded-2xl shadow-2xl overflow-hidden glow">
                <div class="p-4 border-b border-gray-800">
                    <h3 class="text-lg md:text-xl font-bold text-center text-gray-300">EDM MIX0</h3>
                    <p class="text-center text-sm text-gray-500 mt-1">49 tracks • 3h 42m</p>
                </div>
                
                <div class="max-h-96 md:max-h-[500px] overflow-y-auto custom-scrollbar">
                    <ol id="playlist" class="divide-y divide-gray-800">
                        <!-- Playlist items will be populated by JavaScript -->
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Theme toggle functionality
            const themeToggle = document.getElementById('themeToggle');
            const sunIcon = document.getElementById('sunIcon');
            const moonIcon = document.getElementById('moonIcon');
            
            themeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                sunIcon.classList.toggle('hidden');
                moonIcon.classList.toggle('hidden');
            });
            
            // Playlist data with album art
            const tracks = [
                { href: "01-Daft_Punk-Digital_Love.mp3", artist: "Daft Punk", title: "Digital Love", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "02-Deadmau5_&_Kaskade-I_Remember_Radio_Edit.mp3", artist: "Deadmau5 & Kaskade", title: "I Remember (Radio Edit)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "03-Steve_Angello_Laidback_Luke_Robin_S-Show_Me_Love_Radio_Edit_feat_Robin_S.mp3", artist: "Steve Angello, Laidback Luke, Robin S.", title: "Show Me Love (Radio Edit) (feat. Robin S.)", art: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "04-ZEDD_Foxes-Clarity_feat_Foxes.mp3", artist: "ZEDD, Foxes", title: "Clarity (feat. Foxes)", art: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { href: "05-Disclosure_Sam_Smith-Latch_feat_Sam_Smith.mp3", artist: "Disclosure, Sam Smith", title: "Latch (feat. Sam Smith)", art: "https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                // Add the rest of your tracks with appropriate album art URLs
                // For demo, I'm using placeholder images. Replace with your actual album art
            ];

            // Populate playlist
            const playlist = $('#playlist');
            tracks.forEach((track, index) => {
                const trackNumber = (index + 1).toString().padStart(2, '0');
                const listItem = $(`
                    <li class="playlist-item ${index === 0 ? 'active-track' : ''}">
                        <a href="#" class="track block p-3 hover:no-underline smooth-transition" data-href="${track.href}" data-artist="${track.artist}" data-title="${track.title}" data-art="${track.art}">
                            <div class="flex items-center">
                                <div class="relative w-10 h-10 flex-shrink-0 mr-3">
                                    <img src="${track.art}" alt="${track.title}" class="w-10 h-10 rounded-md object-cover">
                                    <div class="absolute inset-0 bg-black bg-opacity-40 rounded-md flex items-center justify-center">
                                        <span class="text-xs font-bold text-white">${trackNumber}</span>
                                    </div>
                                </div>
                                <div class="flex-1 min-w-0">
                                    <div class="font-medium truncate">${track.title}</div>
                                    <div class="text-sm text-gray-400 truncate">${track.artist}</div>
                                </div>
                                <div class="ml-2 text-xs text-gray-500">
                                    3:45
                                </div>
                            </div>
                        </a>
                    </li>
                `);
                playlist.append(listItem);
            });

            // Player functionality
            let current = 0;
            const $audio = $('#player');
            const $tracks = $('.track');
            const len = $tracks.length;
            const $nowPlaying = $('#nowPlaying');
            const $trackInfo = $('#trackInfo');
            const $albumArt = $('#albumArt');
            const $playPause = $('#playPause');
            const $playIcon = $('#playIcon');
            const $pauseIcon = $('#pauseIcon');
            const $progressBar = $('#progressBar');
            const $currentTime = $('#currentTime');
            const $totalTime = $('#totalTime');

            // Format time from seconds to MM:SS
            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            }

            // Update progress bar and time displays
            function updateProgress() {
                if ($audio[0].duration) {
                    const percent = ($audio[0].currentTime / $audio[0].duration) * 100;
                    $progressBar.css('width', percent + '%');
                    $currentTime.text(formatTime($audio[0].currentTime));
                }
            }

            // Set total time when metadata is loaded
            $audio[0].addEventListener('loadedmetadata', function() {
                $totalTime.text(formatTime($audio[0].duration));
            });

            // Update progress regularly
            $audio[0].addEventListener('timeupdate', updateProgress);

            // Play/Pause functionality
            $playPause.on('click', function() {
                if ($audio[0].paused) {
                    $audio[0].play();
                    $playIcon.addClass('hidden');
                    $pauseIcon.removeClass('hidden');
                    $playPause.text('Pause');
                } else {
                    $audio[0].pause();
                    $playIcon.removeClass('hidden');
                    $pauseIcon.addClass('hidden');
                    $playPause.text('Play');
                }
            });

            $('.track').on('click', function (e) {
                e.preventDefault();
                const link = $(this);
                current = link.parent().index();
                play(link, $audio[0]);
            });

            $audio[0].addEventListener('play', function (e) {
                $playIcon.addClass('hidden');
                $pauseIcon.removeClass('hidden');
                $playPause.text('Pause');
                const $link = $('li.active-track > a');
                setTrackMetadata($link);
            });

            $audio[0].addEventListener('pause', function (e) {
                $playIcon.removeClass('hidden');
                $pauseIcon.addClass('hidden');
                $playPause.text('Play');
            });

            $audio[0].addEventListener('ended', function (e) {
                playNext();
            });

            $('#next').on('click', function (e) {
                e.preventDefault();
                playNext();
            });

            $('#prev').on('click', function (e) {
                e.preventDefault();
                playPrev();
            });

            function playPrev() {
                current--;
                if (current < 0) {
                    current = len - 1;
                }
                const link = $tracks.eq(current);
                play(link, $audio[0]);
            }

            function playNext() {
                current++;
                if (current === len) {
                    current = 0;
                }
                const link = $tracks.eq(current);
                play(link, $audio[0]);
            }

            function setTrackMetadata($link) {
                $nowPlaying.text($link.data('title'));
                $trackInfo.text($link.data('artist'));
                $albumArt.attr('src', $link.data('art'));
                
                if ('mediaSession' in navigator) {
                    navigator.mediaSession.metadata = new MediaMetadata({
                        title: $link.data('title'),
                        artist: $link.data('artist'),
                        artwork: [
                            { src: $link.data('art'), sizes: '96x96', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '128x128', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '192x192', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '256x256', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '384x384', type: 'image/jpeg' },
                            { src: $link.data('art'), sizes: '512x512', type: 'image/jpeg' },
                        ]
                    });
                }
            }

            function play($link, $player) {
                $player.src = $link.data('href');
                const par = $link.parent();
                par.addClass('active-track').siblings().removeClass('active-track');
                $player.load();
                $player.play();
                setTrackMetadata($link);
            }

            if ('mediaSession' in navigator) {
                navigator.mediaSession.setActionHandler('nexttrack', playNext);
                navigator.mediaSession.setActionHandler('previoustrack', playPrev);
            }
            
            // Initialize with first track
            if (tracks.length > 0) {
                const firstTrack = $tracks.eq(0);
                setTrackMetadata(firstTrack);
            }
        });
    </script>
</body>
</html>

